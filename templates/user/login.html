<!DOCTYPE html>
<html>
<head>
    {% include 'include/header.html' %}
</head>
<body>
    {% comment %} NavBar {% endcomment %}
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary py-3">
        <div class="container-fluid">
            <a class="navbar-brand ms-4" href="/">E-Voting</a>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto me-4 mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link mx-2" aria-current="page" href="/admin/login/">Admin</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link mx-2" aria-current="page" href="/user/login/">User</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="d-flex justify-content-center my-5">
            <div class="card w-50 p-3">
                <div class="card-header bg-white">
                    <h4>Login</h4>
                </div>
                <form action="/user/login/" method="POST" class="card-body" onsubmit="return validate_login()">
                    <input type="hidden" name="action" value="customerLogin" />
                    <input type="text" name="phone" id="lPhone" class="form-control mb-3" placeholder="Contact no" autocomplete="off" />
                    <input type="password" name="password" id="lPassword" class="form-control mb-3" placeholder="Password" autocomplete="off" />
                    <button type="submit" class="btn btn-primary bg-gradient">Login</button>
                    <a href="/user/register/" class="btn btn-outline-primary">Register</a>
                </form>
            </div>
        </div>
    </div>

    {% if success %}
    <script type="text/javascript">alert({success});</script>
    {% endif %}
    {% if error %}
    <script type="text/javascript">alert({error});</script>
    {% endif %}

    <script type="text/javascript">
        function validate_login(){
            var phone=document.getElementById("lPhone").value;
            var password=document.getElementById("lPassword").value;
            var reg = /\S+@\S+\.\S+/;

            if(phone == ""){
               alert("Please Enter Phone Number")
               return false;
            }
            if(phone.length != 10){
               alert("Please enter Valid mobile number")
               return false;
            }
            if(!reg.test(email)){
               alert("Invalid Email ID")
               return false;
            }
            if(password == ""){
               alert("Please Enter Password")
               return false;
            }

            return true;
        }
    </script>
</body>
</html>